<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ü—Ä–æ—Ñ–∏–ª—å - UniPrep</title>
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h1>
        <nav>
          <button onclick="location.href='/'" class="btn btn-outline">
            –ì–ª–∞–≤–Ω–∞—è
          </button>
          <button onclick="location.href='/tests'" class="btn btn-outline">
            –¢–µ—Å—Ç—ã
          </button>
          <button onclick="logout()" class="btn btn-outline">–í—ã–π—Ç–∏</button>
        </nav>
      </header>

      <div class="profile-section">
        <div class="profile-info">
          <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</h2>

          <div id="profileView">
            <div class="profile-details">
              <div class="profile-item">
                <span class="profile-label">Email:</span>
                <span class="profile-value" id="viewEmail"></span>
              </div>
              <div class="profile-item">
                <span class="profile-label">–ò–º—è:</span>
                <span class="profile-value" id="viewName"></span>
              </div>
              <div class="profile-item">
                <span class="profile-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                <span class="profile-value" id="viewPhone"></span>
              </div>
            </div>
            <button onclick="enableEdit()" class="btn btn-primary">
              –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
          </div>

          <div id="profileEdit" style="display: none">
            <form id="profileForm">
              <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" readonly />
              </div>
              <div class="form-group">
                <label>–ò–º—è</label>
                <input type="text" id="name" required />
              </div>
              <div class="form-group">
                <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" id="phone" />
              </div>
              <button type="submit" class="btn btn-primary">
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
              </button>
              <button
                type="button"
                onclick="cancelEdit()"
                class="btn btn-outline"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
            </form>
          </div>
          <div id="message" class="message"></div>
        </div>

        <div class="test-history">
          <div
            class="history-header"
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <h2>–ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤</h2>
            <button
              onclick="window.toggleShowHidden()"
              id="showHiddenBtn"
              class="btn btn-outline"
              style="padding: 5px 10px; font-size: 14px"
            >
              –ü–æ–∫–∞–∑–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–µ
            </button>
          </div>
          <div id="historyList"></div>
        </div>
      </div>
      <div id="customModal" class="modal" style="display: none">
        <div class="modal-content">
          <p id="modalMessage"></p>
          <div class="modal-buttons">
            <button id="modalConfirm" class="btn btn-primary">–î–∞</button>
            <button id="modalCancel" class="btn btn-outline">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>
    </div>

    <script src="/static/js/profile.js?v=2"></script>
  </body>
</html>
